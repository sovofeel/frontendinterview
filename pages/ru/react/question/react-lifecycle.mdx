---
title: Методы жизненного цикла React
description: Какие методы жизненного цикла есть в React и в чем их особенности
complexity: junior
category: react
lang: ru
type: question
tags: ['react lifecycle methods']
source: https://github.com/likezninjaz/react-ru-interview-questions
---

- `render()` — единственный обязательный метод в классовом компоненте.
    При вызове он проверяет `this.props` и `this.state` и возвращает один из следующих вариантов: Элемент `React`, Массивы и фрагменты, Порталы, Строки и числа, Booleans или null

- `constructor()` - Конструктор компонента React вызывается до того, как компонент будет примонтирован. В начале конструктора необходимо вызывать super(props). Если это не сделать, this.props не будет определён. Это может привести к багам.
    Конструкторы в React обычно используют для двух целей: Инициализация внутреннего состояния через присвоение объекта this.state. Привязка обработчиков событий к экземпляру.
    Конструктор — единственное место, где можно напрямую изменять this.state. В остальных методах необходимо использовать this.setState().

- `componentDidMount()` - вызывается сразу после монтирования (то есть, вставки компонента в DOM). В этом методе должны происходить действия, которые требуют наличия DOM-узлов. Это хорошее место для создания сетевых запросов.
    Этот метод подходит для настройки подписок. Но не забудьте отписаться от них в `componentWillUnmount()`.

- `componentDidUpdate(prevProps, prevState, snapshot)` - вызывается сразу после обновления. Не вызывается при первом рендере. Метод позволяет работать с DOM при обновлении компонента. Также он подходит для выполнения таких сетевых запросов, которые выполняются на основании результата сравнения текущих пропсов с предыдущими. Если пропсы не изменились, новый запрос может и не требоваться.

- `componentWillUnmount()` - вызывается непосредственно перед размонтированием и удалением компонента. В этом методе выполняется необходимый сброс: отмена таймеров, сетевых запросов и подписок, созданных в `componentDidMount()`.

- `shouldComponentUpdate(nextProps, nextState)` - вызывается перед рендером, когда получает новые пропсы или состояние. Значение по умолчанию равно true. Этот метод нужен только для повышения производительности.. Но не опирайтесь на его возможность «предотвратить» рендер, это может привести к багам. Вместо этого используйте PureComponent, который позволяет не описывать поведение shouldComponentUpdate() вручную. PureComponent поверхностно сравнивает пропсы и состояние и позволяет не пропустить необходимое обновление.

- `static getDerivedStateFromProps(props, state)` - вызывается непосредственно перед вызовом метода render, как при начальном монтировании, так и при последующих обновлениях. Он должен вернуть объект для обновления состояния или null, чтобы ничего не обновлять.
    Этот метод существует для редких случаев, когда состояние зависит от изменений в пропсах.

- `getSnapshotBeforeUpdate(prevProps, prevState)` - вызывается прямо перед этапом «фиксирования» (например, перед добавлением в DOM). Он позволяет вашему компоненту брать некоторую информацию из DOM (например, положение прокрутки) перед её возможным изменением. Любое значение, возвращаемое этим методом жизненного цикла, будет передано как параметр componentDidUpdate().

- `static getDerivedStateFromError(error)` - Этот метод жизненного цикла вызывается после возникновения ошибки у компонента-потомка. Он получает ошибку в качестве параметра и возвращает значение для обновления состояния. getDerivedStateFromError() вызывается во время этапа «рендера». Поэтому здесь запрещены любые побочные эффекты, но их можно использовать в componentDidCatch().

- `componentDidCatch(error, info)` - Этот метод жизненного цикла вызывается после возникновения ошибки у компонента-потомка. Он получает два параметра: error — перехваченная ошибка, info — объект с ключом componentStack, содержащий информацию о компоненте, в котором произошла ошибка. Метод можно использовать для логирования ошибок.
